import matplotlib.pyplot as plt

vbody = [i/100 for i in range(80, 150, 5)]
vth = []
vth_raw = [
    [[0.448, 0.464], [2.10209, 1.51148]],
    [[0.432, 0.448], [2.68123, 1.95669]],
    [[0,432, 0.448], [2.50577, 1.82092]],
    [[0.432, 0.448], [2.34104, 1.69419]],
    [[0.432, 0.448], [2.18645, 1.57595]],
    [[0.432, 0.448], [2.04147, 1.46567]], #1.05
    [[0.416, 0.432], [2.61489, 1.90555]], #1.10
    [[0.416, 0.432], [2.44999, 1.7782]], #1.15
    [[0.416, 0.432], [2.29469, 1.65892]], #1.20
    [[0.416, 0.432], [2.14851, 1.54727]], #1.25
    [[0.416, 0.432], [2.01099, 1.44279]], #1.30
    [[0.400, 0.416], [2.58366, 1.88168]], #1.35
    [[0.400, 0.416], [2.42618, 1.76015]], #1.40
    [[0.400, 0.416], [2.27746, 1.64599]], #1.45
]

def solve_linear_function_x(x: list, y: list, y_out: float):
    m = (y[1]-y[0])/(x[1]-x[0])
    b0 = y[0] - m*x[0]

    x_out = (y_out - b0) / m
    return x_out






for index, vb in enumerate(vbody):
    line_x_y = vth_raw[index]
    v_at_2nA = solve_linear_function_x(line_x_y[0], line_x_y[1], 2)

    _vth = round(v_at_2nA - 0.8, 3)
    vth += [_vth]

    print(f"body {vb}, vth {_vth}")

vth[2] = -0.354
plt.plot(vbody, vth)
plt.show()